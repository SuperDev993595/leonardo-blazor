@page "/"
@layout AuthLayout
@rendermode InteractiveServer
<PageTitle>Iniciar sesión</PageTitle>

<div class="auth-screen">
    <div class="auth-container">
        <div class="auth-form-card">
            <h1 class="auth-title">¡Bienvenido de nuevo!</h1>
            <p class="auth-subtitle">Inicia sesión para acceder a tus datos</p>

            <EditForm Model="@model" OnValidSubmit="HandleLogin" class="auth-form">
                <div class="form-group">
                    <label for="email">Correo Electrónico</label>
                    <div class="input-wrapper">
                        <i class="fa-regular fa-envelope left"></i>
                        <InputText id="email"
                                   @bind-Value="model.Email"
                                   class="auth-input"
                                   type="email"
                                   placeholder="Escribe tu correo" />
                    </div>
                </div>

                <div class="form-group">
                    <label for="password">Contraseña</label>
                    <div class="input-wrapper">
                        <i class="fa-solid fa-lock left"></i>
                        <InputText id="password"
                                   @bind-Value="model.Password"
                                   class="auth-input"
                                   type="@(showPassword ? "text" : "password")"
                                   placeholder="Escribe tu contraseña" />
                        <i class="fa-regular @(showPassword ? "fa-eye-slash" : "fa-eye") right"
                           @onclick="TogglePassword"
                           role="button"
                           aria-label="Toggle password visibility"></i>
                    </div>
                    <div class="auth-forgot">
                        <NavLink href="/forgot-password" class="auth-link">¿Olvidaste tu contraseña?</NavLink>
                    </div>
                </div>

                <button type="submit" class="auth-submit-btn">Iniciar Sesión</button>
            </EditForm>

            <div class="auth-divider">También puedes</div>

            <div class="auth-signup-text">
                ¿No tienes una cuenta? <NavLink href="/register" class="auth-link-register">Regístrate</NavLink>
            </div>
        </div>

        <div class="auth-marketing-panel">
            <div class="right-content">
                <h2 class="marketing-title">Tu plataforma de seguros de confianza</h2>
                <p class="marketing-quote">"Un seguro es algo que esperas no necesitar nunca, pero que agradeces tener en el momento justo"</p>
            </div>
            <div class="marketing-logo">LOGO</div>
        </div>
    </div>
</div>

@code {
    private LoginModel model = new();
    private bool showPassword;

    private void TogglePassword() => showPassword = !showPassword;

    private void HandleLogin()
    {
        // TODO: Implement login logic
    }

    private class LoginModel
    {
        public string Email { get; set; } = "";
        public string Password { get; set; } = "";
    }
}
